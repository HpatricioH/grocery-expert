---
import { Icon } from "astro-icon/components"
import CldImage from "../../utils/CldImage.astro"
import buyItems from "../../lib/data/buyItems.json"
import Button from "../../utils/Button.astro"
---
<div class="relative flex justify-center items-center">
  <Icon name="chevronLeft" class="size-8 cursor-pointer opacity-50 hover:opacity-100" id="arrowLeft"/>
  <div class="w-full h-full flex gap-4 items-center overflow-x-scroll scroll scroll-smooth scrollbar-hide" id="slider">
    {
      buyItems.map((item) => {
        return (
          <div class="card-body bg-tertiary-color rounded-xl p-1 text-center mb-3 w-[8.5rem]">
            <div class="w-32 h-28 p-2">
              <CldImage src={item.image} alt={item.name} width="1048" height="1045"/>
            </div>
            <div class="h-[2rem] w-full mt-4 text-xs">
              <p class="font-semibold tracking-wide text-black/65 text-left">
                {item.description}
            <p class="text-xs text-left text-black/45">{item.weight}</p>
              </p>
            </div>
            <div class="flex gap-4 my-2 justify-end items-baseline">
              <Button className="bg-main-color hover:bg-main-color/90 btn-sm" type="button">Add</Button>
            </div>
          </div>
        )
      })
    }
  </div>
  <Icon name="chevronRight" class="size-8 fill-black cursor-pointer opacity-50 hover:opacity-100" id="arrowRight"/>
</div>

<script>
  const sliderLeft = document.getElementById("slider")
  const arrowLeft = document.getElementById("arrowLeft")
  const arrowRight = document.getElementById("arrowRight")

  if (sliderLeft !== null && arrowLeft !== null) {
    arrowLeft.onclick = () => sliderLeft.scrollLeft = sliderLeft.scrollLeft - 450
  }

  const sliderRight = document.getElementById("slider")
  if (sliderRight !== null && arrowRight !== null) {
    arrowRight.onclick = () => sliderRight.scrollLeft = sliderRight.scrollLeft + 450
  }
</script>

<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
}
</style>
